<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fares | Official</title>

<style>
:root{
--main:#00f2ff;
--danger:#ff3b3b;
--bg:#0f0f14;
--card:#1a1a2e;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma}

body{
background:linear-gradient(135deg,#0f0f14,#141428);
color:#fff;
}

header{
padding:20px;
text-align:center;
background:rgba(0,0,0,.4);
backdrop-filter:blur(10px);
position:sticky;
top:0;
}

header h1{color:var(--main)}

.container{
max-width:1100px;
margin:auto;
padding:30px 20px;
}

.profile{text-align:center;margin-bottom:30px}
.profile img{
width:130px;height:130px;
border-radius:50%;
border:3px solid var(--main);
object-fit:cover;
}

.btn{
padding:8px 16px;
border:none;
border-radius:20px;
cursor:pointer;
font-weight:bold;
margin:5px;
}

.main-btn{background:var(--main);color:#000}
.danger-btn{background:var(--danger);color:#fff}

.dashboard{
display:none;
background:var(--card);
padding:20px;
border-radius:15px;
margin-bottom:30px;
}

.dashboard textarea{
width:100%;
padding:10px;
border:none;
border-radius:10px;
margin-bottom:10px;
resize:none;
}

.posts{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
gap:20px;
}

.card{
background:var(--card);
padding:15px;
border-radius:15px;
position:relative;
}

.card img{
width:100%;
border-radius:10px;
margin-bottom:10px;
}

.date{
font-size:12px;
opacity:.6;
margin-bottom:6px;
}

.delete-btn{
position:absolute;
top:10px;
left:10px;
background:var(--danger);
color:#fff;
border:none;
border-radius:50%;
width:28px;
height:28px;
cursor:pointer;
font-weight:bold;
}

footer{
text-align:center;
padding:20px;
margin-top:40px;
opacity:.6;
}
</style>
</head>

<body>

<header>
<h1>Fares Official</h1>
</header>

<div class="container">

<div class="profile">
<img src="https://via.placeholder.com/150">
<h2>فارس</h2>

<button class="btn main-btn" onclick="login()">تسجيل دخول</button>
<button class="btn danger-btn" onclick="logout()">تسجيل خروج</button>
<button class="btn danger-btn" onclick="clearAll()">مسح الكل</button>
</div>

<div class="dashboard" id="dashboard">
<textarea id="postText" rows="3" placeholder="اكتب حاجة..."></textarea>
<input type="file" id="imageInput">
<br>
<button class="btn main-btn" onclick="addPost()">نشر</button>
</div>

<div class="posts" id="posts"></div>

</div>

<footer>
© 2026 Fares
</footer>

<script>
const ADMIN_PASSWORD="fares123";
let isLoggedIn=localStorage.getItem("faresLogin")==="true";
const dashboard=document.getElementById("dashboard");
const postsContainer=document.getElementById("posts");

if(isLoggedIn) dashboard.style.display="block";

function login(){
let pass=prompt("ادخل كلمة السر:");
if(pass===ADMIN_PASSWORD){
localStorage.setItem("faresLogin","true");
isLoggedIn=true;
dashboard.style.display="block";
alert("تم تسجيل الدخول");
}else{
alert("كلمة سر غلط");
}
}

function logout(){
localStorage.removeItem("faresLogin");
isLoggedIn=false;
dashboard.style.display="none";
alert("تم تسجيل الخروج");
}

function addPost(){
if(!isLoggedIn) return alert("لازم تسجل دخول");

let text=document.getElementById("postText").value;
let file=document.getElementById("imageInput").files[0];
if(text.trim()==="" && !file) return;

let post={text:text,date:new Date().toLocaleString(),image:null};

if(file){
let reader=new FileReader();
reader.onload=e=>{
post.image=e.target.result;
savePost(post);
};
reader.readAsDataURL(file);
}else{
savePost(post);
}

document.getElementById("postText").value="";
document.getElementById("imageInput").value="";
}

function savePost(post){
let posts=JSON.parse(localStorage.getItem("faresPosts")||"[]");
posts.unshift(post);
localStorage.setItem("faresPosts",JSON.stringify(posts));
renderPosts();
}

function deletePost(index){
if(!isLoggedIn) return;
let posts=JSON.parse(localStorage.getItem("faresPosts")||"[]");
posts.splice(index,1);
localStorage.setItem("faresPosts",JSON.stringify(posts));
renderPosts();
}

function clearAll(){
if(!isLoggedIn) return alert("لازم تسجل دخول");
if(confirm("متأكد تمسح كل البوستات؟")){
localStorage.removeItem("faresPosts");
renderPosts();
}
}

function renderPosts(){
postsContainer.innerHTML="";
let posts=JSON.parse(localStorage.getItem("faresPosts")||"[]");

posts.forEach((p,i)=>{
let card=document.createElement("div");
card.className="card";

if(isLoggedIn){
let del=document.createElement("button");
del.className="delete-btn";
del.textContent="×";
del.onclick=()=>deletePost(i);
card.appendChild(del);
}

if(p.image){
let img=document.createElement("img");
img.src=p.image;
card.appendChild(img);
}

let date=document.createElement("div");
date.className="date";
date.textContent=p.date;
card.appendChild(date);

if(p.text){
let text=document.createElement("p");
text.textContent=p.text;
card.appendChild(text);
}

postsContainer.appendChild(card);
});
}

renderPosts();
</script>

</body>
</html>
